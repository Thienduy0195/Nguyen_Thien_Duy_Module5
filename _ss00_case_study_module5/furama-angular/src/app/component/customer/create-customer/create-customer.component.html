<div class="mb-2">
  <a class="btn btn-secondary"
     [routerLink]="['/customer']"
     role="button">
    <
    <span>Back to List</span>
  </a>
</div>

<div class="form-group row">
  <div class="col-sm-3"></div>
  <div class="col-sm-9">
    <h2>Create New Customer</h2>
  </div>
</div>
<form [formGroup]="customerForm" (ngSubmit)="onSubmit(customerForm)">
  <!--  {{ customerForm.value | json }}-->
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="customerCode">CODE</label>
    <div class="col-sm-3">
      <input type="text" id="customerCode" class="form-control"
             formControlName="customerCode" placeholder="KH-1234">
    </div>
    <div class="text-small text-danger"
         *ngIf="
      !customerForm.controls.customerCode?.valid
      && (customerForm.controls.customerCode?.dirty ||customerForm.controls.customerCode?.touched)">
      <div [hidden]="!customerForm.controls.customerCode.errors.required">
        Code must be required!
      </div>
      <div [hidden]="!customerForm.controls.customerCode.errors.pattern">
        Code pattern fail (KH-XXXX)
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="name">Customer Name</label>
    <div class="col-sm-3">
      <input type="text" id="name" class="form-control"
             formControlName="name" placeholder="Ex: Nguyen Van A">
    </div>
    <div class="text-small text-danger"
         *ngIf="
      !customerForm.controls.name?.valid
      && (customerForm.controls.name?.dirty ||customerForm.controls.name?.touched)">
      <div [hidden]="!customerForm.controls.name.errors.required">
        Name must be required
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right">Gender</label>
    <div class="col-sm-3 d-flex">
      <div class="form-check w-50">
        <input formControlName="gender" class="form-check-input" type="radio" id="MaleRadio" value="1">
        <label class="form-check-label" for="MaleRadio">Male</label>
      </div>
      <div class="form-check w-50">
        <input formControlName="gender" class="form-check-input" type="radio" id="FemaleRadio" value="0">
        <label class="form-check-label" for="FemaleRadio">Female</label>
      </div>
    </div>
    <div class="text-small text-danger"
         *ngIf="
                !customerForm.controls.gender?.valid
                && (customerForm.controls.gender?.dirty ||customerForm.controls.gender?.touched)">
      <div [hidden]="!customerForm.controls.gender.errors.required">
        Gender must be required
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="birthDay">Day Of Birth</label>
    <div class="col-sm-3">
      <input formControlName="birthDay" type="date" id="birthDay" class="form-control">
    </div>
    <div class="text-small text-danger"
         *ngIf="
                !customerForm.controls.birthDay?.valid
                && (customerForm.controls.birthDay?.dirty ||customerForm.controls.birthDay?.touched)">
      <div [hidden]="!customerForm.controls.birthDay.errors.required">
        Birthday must be required
      </div>
      <div [hidden]="!customerForm.controls.birthDay.errors.pattern">
        Birthday must exact pattern dd/MM/yyyy
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="idCard">ID Card</label>
    <div class="col-sm-3">
      <input formControlName="idCard" type="text" id="idCard" class="form-control"
             placeholder="Ex: 123456789">
    </div>
    <div class="text-small text-danger"
         *ngIf="
                !customerForm.controls.idCard?.valid
                && (customerForm.controls.idCard?.dirty ||customerForm.controls.idCard?.touched)">
      <div [hidden]="!customerForm.controls.idCard.errors.required">
        ID card must be required
      </div>
      <div [hidden]="!customerForm.controls.idCard.errors.pattern">
        ID card must has 9 numbers
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="address">Address</label>
    <div class="col-3">
      <input formControlName="address" type="text" id="address" class="form-control"
             placeholder="Ex: 18 Nguyen Chi Thanh">
    </div>
    <div class="text-small text-danger"
         *ngIf="
                !customerForm.controls.address?.valid
                && (customerForm.controls.address?.dirty ||customerForm.controls.address?.touched)">
      <div [hidden]="!customerForm.controls.address.errors.required">
        Address must be required
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="phone">Phone Number</label>
    <div class="col-sm-3">
      <input formControlName="phone" type="text" id="phone" class="form-control"
             placeholder="Ex: 0912345678">
    </div>
    <div class="text-small text-danger"
         *ngIf="
                !customerForm.controls.phone?.valid
                && (customerForm.controls.phone?.dirty ||customerForm.controls.phone?.touched)">
      <div [hidden]="!customerForm.controls.phone.errors.required">
        Phone Number must be required
      </div>
      <div [hidden]="!customerForm.controls.phone.errors.pattern">
        Phone Number must be start with 090 | 091 | (+84)90 | (+84)91
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="email">Email</label>
    <div class="col-sm-3">
      <input formControlName="email" type="text" id="email" class="form-control"
             placeholder="Ex: codegym123@gmail.co">
    </div>
    <div class="text-small text-danger"
         *ngIf="
                !customerForm.controls.email?.valid
                && (customerForm.controls.email?.dirty ||customerForm.controls.email?.touched)">
      <div [hidden]="!customerForm.controls.email.errors.required">
        Email must be required
      </div>
      <div [hidden]="!customerForm.controls.email.errors.email">
        Email must right format
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right" for="customerType">Customer Type</label>
    <div class="col-sm-3">
      <select formControlName="customerType" class="custom-select" id="customerType">
        <option [ngValue]="null">---Choose Customer Type---</option>
        <option [ngValue]="ct" *ngFor="let ct of customerTypeList">
          {{ct.name}}
        </option>
      </select>
    </div>
    <div class="text-small text-danger"
         *ngIf="!customerForm.controls.customerType?.valid
                && (customerForm.controls.customerType?.dirty ||customerForm.controls.customerType?.touched)">
      <div [hidden]="!customerForm.controls.customerType?.errors.required">
        Customer Type must be required
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label text-right"></label>
    <div class="col-sm-3">
      <button type="submit" class="btn btn-success" [disabled]="!customerForm.valid">Submit</button>
    </div>
  </div>
</form>
